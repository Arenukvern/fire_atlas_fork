import 'package:flutter/material.dart';

import './vendor/micro_store/micro_store.dart';

import './screens/open_screen/open_screen.dart';
import './screens/editor_screen/editor_screen.dart';

import './store/store.dart';
import './models/fire_atlas.dart';

void main() {
  //Store.instance = MicroStore<FireAtlasState>(FireAtlasState());

  final atlas = FireAtlas()
      ..id = 'Ingredients'
      ..tileSize = 16
      ..imageData = 'data:image/png;base64,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'; 
  Store.instance = MicroStore<FireAtlasState>(
      FireAtlasState()
        ..currentAtlas = atlas
  );
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Fire Atlas Editor',
      theme: ThemeData(
        primarySwatch: Colors.red,
        visualDensity: VisualDensity.adaptivePlatformDensity,
      ),
      home: OpenScreen(),
      routes: {
        '/editor': (_) => EditorScreen(),
      }
    );
  }
}
